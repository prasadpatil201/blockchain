// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

contract Bank {
    uint256 private balance;
    address public accountHolder;

    event Deposit(address indexed from, uint256 amount);
    event Withdraw(address indexed to, uint256 amount);

    // âœ… Must be payable to accept Ether during deployment
    constructor() payable {
        accountHolder = msg.sender;
        balance = msg.value; // Record initial deposit if any
    }

    // Deposit Ether into the bank
    function deposit() external payable {
        require(msg.value > 0, "Deposit amount should be greater than zero");
        balance += msg.value;
        emit Deposit(msg.sender, msg.value);
    }

    // Withdraw a specific amount
    function withdraw(uint256 amount) external {
        require(msg.sender == accountHolder, "You are not the account owner");
        require(amount > 0, "Withdraw amount should be greater than zero");
        require(balance >= amount, "Insufficient balance");

        balance -= amount;

        (bool sent, ) = payable(msg.sender).call{value: amount}("");
        require(sent, "Failed to send Ether");

        emit Withdraw(msg.sender, amount);
    }

    // Check stored balance
    function showBalance() external view returns (uint256) {
        return balance;
    }

    // Check actual contract balance
    function contractBalance() external view returns (uint256) {
        return address(this).balance;
    }
}

import matplotlib.pyplot as plt   # For plotting
import numpy as np                # Numerical computations

def f(x):
    return (x + 3)**2             # Function f(x) = (x+3)^2

def grad(x):
    return 2 * (x + 3)            # Derivative of f(x)

def gradient_descent(start=3, lr=0.1, steps=50):
    x = start                     # Initial starting point
    xs = [x]                      # Store path of x values

    for i in range(steps):        # Run for given number of steps
        grad_val = grad(x)        # Compute gradient
        x = x - lr * grad_val     # Update step
        xs.append(x)              # Save new x

    return x, f(x), xs            # Return final x, f(x), and path

min_x, min_y, path = gradient_descent()   # Run gradient descent

print("Min x:", min_x)           # Print minimum x
print("Min y:", min_y)           # Print minimum y

x_vals = np.linspace(-8, 4, 100)   # X-axis range
y_vals = f(x_vals)                 # Corresponding y values

plt.plot(x_vals, y_vals, label='f(x)=(x+3)^2')                      # Draw curve
plt.scatter(path, [f(i) for i in path], color='red', label='Steps') # Plot descent steps
plt.title("Gradient Descent (Kinda Works)")                         # Title
plt.xlabel("x")
plt.ylabel("f(x)")
plt.legend()
plt.show()

// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

contract StudentData {
    struct Student {
        string name;
        uint rollno;
    }

    Student[] public studentArr;

    // Add a new student if roll number does not exist
    function addStudent(string memory name, uint rollno) public {
        for (uint i = 0; i < studentArr.length; i++) {
            if (studentArr[i].rollno == rollno) {
                revert("Student with this roll number already exists!");
            }
        }
        studentArr.push(Student(name, rollno));
    }

    // Return all students
    function displayAllStudents() public view returns (Student[] memory) {
        return studentArr;
    }

    // Get a single student by index
    function getStudentByIndex(uint index) public view returns (Student memory) {
        require(index < studentArr.length, "Index out of bound");
        return studentArr[index];
    }

    // Get total number of students
    function getLengthOfStudents() public view returns (uint) {
        return studentArr.length;
    }
}
